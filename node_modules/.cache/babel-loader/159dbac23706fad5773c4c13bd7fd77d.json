{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _createForOfIteratorHelper from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";\nimport _objectSpread from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nvar listeners = [];\nvar state = {\n  data: null,\n  error: null,\n  sidebar: false,\n  modal: false,\n  video: false,\n  request: {\n    modal: false,\n    text: \"\"\n  }\n};\nvar actions = {\n  fetch: function () {\n    var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, _iterator, _step, listener;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get( // Change with your database path\n              \"/api/data\");\n\n            case 3:\n              response = _context.sent;\n              state = _objectSpread(_objectSpread({}, state), {}, {\n                data: response.data\n              });\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              state = _objectSpread(_objectSpread({}, state), {}, {\n                error: _context.t0\n              });\n\n            case 10:\n              _iterator = _createForOfIteratorHelper(listeners);\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  listener = _step.value;\n                  listener(state);\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    function fetch() {\n      return _fetch.apply(this, arguments);\n    }\n\n    return fetch;\n  }(),\n  toogleSidebar: function toogleSidebar() {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      sidebar: !state.sidebar\n    });\n\n    var _iterator2 = _createForOfIteratorHelper(listeners),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var listener = _step2.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  },\n  toogleModal: function toogleModal() {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      modal: !state.modal\n    });\n\n    var _iterator3 = _createForOfIteratorHelper(listeners),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var listener = _step3.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  },\n  toogleRequest: function toogleRequest(payload) {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      request: {\n        modal: !state.request.modal,\n        text: payload\n      }\n    });\n\n    var _iterator4 = _createForOfIteratorHelper(listeners),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var listener = _step4.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n  },\n  toogleVideo: function toogleVideo() {\n    state = _objectSpread(_objectSpread({}, state), {}, {\n      video: !state.video\n    });\n\n    var _iterator5 = _createForOfIteratorHelper(listeners),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var listener = _step5.value;\n        listener(state);\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n};\nexport var useCustomState = function useCustomState() {\n  var setState = useState(state)[1];\n  useEffect(function () {\n    listeners.push(setState);\n    return function () {\n      listeners = listeners.filter(function (li) {\n        return li !== setState;\n      });\n    };\n  }, [setState]);\n  return [state, actions];\n};","map":{"version":3,"sources":["C:/Users/kang/Luna/GWproject/fe/src/state/state.js"],"names":["useState","useEffect","axios","listeners","state","data","error","sidebar","modal","video","request","text","actions","fetch","get","response","listener","toogleSidebar","toogleModal","toogleRequest","payload","toogleVideo","useCustomState","setState","push","filter","li"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nlet listeners = [];\n\nlet state = {\n  data: null,\n  error: null,\n  sidebar: false,\n  modal: false,\n  video: false,\n  request: {\n    modal: false,\n    text: \"\",\n  },\n};\n\nconst actions = {\n  fetch: async () => {\n    try {\n      const response = await axios.get(\n        // Change with your database path\n        \"/api/data\"\n      );\n      state = { ...state, data: response.data };\n    } catch (err) {\n      state = { ...state, error: err };\n    }\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleSidebar: () => {\n    state = { ...state, sidebar: !state.sidebar };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleModal: () => {\n    state = { ...state, modal: !state.modal };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleRequest: (payload) => {\n    state = {\n      ...state,\n      request: { modal: !state.request.modal, text: payload },\n    };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n  toogleVideo: () => {\n    state = { ...state, video: !state.video };\n\n    for (const listener of listeners) {\n      listener(state);\n    }\n  },\n};\n\nexport const useCustomState = () => {\n  const setState = useState(state)[1];\n\n  useEffect(() => {\n    listeners.push(setState);\n\n    return () => {\n      listeners = listeners.filter((li) => li !== setState);\n    };\n  }, [setState]);\n\n  return [state, actions];\n};\n"]},"metadata":{},"sourceType":"module"}