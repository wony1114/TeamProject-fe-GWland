{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\src\\\\webapp\\\\svy\\\\components\\\\SurveyList.js\";\n\nimport { SvgIcon, Table, TableBody, TableCell, TableFooter, TableHead, TableRow } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from './SurveyList.module.scss';\nimport Pagination from 'webapp/cmm/elements/Pagination/Pagination';\nimport Card from 'webapp/cmm/layouts/Card/Card';\nexport default (function () {\n  var arr = ['설문번호', '성별', '나이대', '목적지', '상세보기', '삭제하기'];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      surveyList = _useState2[0],\n      setSurveyList = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      surveyCount = _useState4[0],\n      setSurveyCount = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentPage = _useState6[0],\n      setCurrentPage = _useState6[1];\n\n  var pageSize = 10;\n  var blockSize = 5;\n\n  var deleteSurvey = function deleteSurvey(item) {\n    if (window.confirm('삭제하시겠습니까?')) {\n      axios.delete(\"http://localhost:8080/survey/delete\", {\n        data: item\n      }).then(alert('삭제성공'), window.location.reload());\n    }\n  };\n\n  useEffect(function () {\n    axios.get(\"http://localhost:8080/survey/count\").then(function (res) {\n      setSurveyCount(res.data);\n    });\n    axios.get(\"http://localhost:8080/survey/list?page=\".concat(currentPage - 1, \"&size=\").concat(pageSize)).then(function (res) {\n      setSurveyList(res.data.content);\n    });\n  }, [currentPage]);\n  var title = /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 19\n    }\n  }, \"\\uC124\\uBB38 \\uB9AC\\uC2A4\\uD2B8\");\n  var content = /*#__PURE__*/React.createElement(Table, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, arr.map(function (item) {\n    return /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 28\n      }\n    }, item);\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, surveyList.map(function (item, key) {\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, item.svyNum), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, item.gender), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, item.age), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, item.location), /*#__PURE__*/React.createElement(TableCell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SvgIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(TableCell, {\n      onClick: function onClick() {\n        deleteSurvey(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(SvgIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 71\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      fill: \"currentColor\",\n      d: \"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 80\n      }\n    }))));\n  })), /*#__PURE__*/React.createElement(TableFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    pageCount: Math.ceil(surveyCount / pageSize),\n    pageNum: currentPage,\n    setPage: setCurrentPage,\n    blockSize: blockSize,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }))));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n    header: title,\n    body: content,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }));\n});","map":{"version":3,"sources":["C:/Users/kang/Luna/GWproject/fe/src/webapp/svy/components/SurveyList.js"],"names":["SvgIcon","Table","TableBody","TableCell","TableFooter","TableHead","TableRow","React","useEffect","useState","axios","styles","Pagination","Card","arr","surveyList","setSurveyList","surveyCount","setSurveyCount","currentPage","setCurrentPage","pageSize","blockSize","deleteSurvey","item","window","confirm","delete","data","then","alert","location","reload","get","res","content","title","map","key","svyNum","gender","age","Math","ceil"],"mappings":";;;;;AAAA,SAASA,OAAT,EAAkBC,KAAlB,EAAyBC,SAAzB,EAAoCC,SAApC,EAA+CC,WAA/C,EAA4DC,SAA5D,EAAuEC,QAAvE,QAAuF,mBAAvF;AACA,OAAOC,KAAP,IAAcC,SAAd,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,2CAAvB;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AAEA,gBAAe,YAAI;AACf,MAAMC,GAAG,GAAG,CAAC,MAAD,EAAQ,IAAR,EAAa,KAAb,EAAmB,KAAnB,EAAyB,MAAzB,EAAgC,MAAhC,CAAZ;;AADe,kBAEoBL,QAAQ,CAAC,EAAD,CAF5B;AAAA;AAAA,MAERM,UAFQ;AAAA,MAEGC,aAFH;;AAAA,mBAGsBP,QAAQ,CAAC,CAAD,CAH9B;AAAA;AAAA,MAGRQ,WAHQ;AAAA,MAGIC,cAHJ;;AAAA,mBAIsBT,QAAQ,CAAC,CAAD,CAJ9B;AAAA;AAAA,MAIRU,WAJQ;AAAA,MAIIC,cAJJ;;AAKf,MAAMC,QAAQ,GAAG,EAAjB;AACA,MAAMC,SAAS,GAAG,CAAlB;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAQ;AACzB,QAAGC,MAAM,CAACC,OAAP,CAAe,WAAf,CAAH,EAA+B;AAC3BhB,MAAAA,KAAK,CAACiB,MAAN,wCAAmD;AAC/CC,QAAAA,IAAI,EAACJ;AAD0C,OAAnD,EAGCK,IAHD,CAIIC,KAAK,CAAC,MAAD,CAJT,EAKIL,MAAM,CAACM,QAAP,CAAgBC,MAAhB,EALJ;AAOH;AACJ,GAVD;;AAYAxB,EAAAA,SAAS,CAAC,YAAI;AACVE,IAAAA,KAAK,CAACuB,GAAN,uCACCJ,IADD,CACM,UAAAK,GAAG,EAAE;AAAChB,MAAAA,cAAc,CAACgB,GAAG,CAACN,IAAL,CAAd;AAAyB,KADrC;AAEAlB,IAAAA,KAAK,CAACuB,GAAN,kDAAoDd,WAAW,GAAC,CAAhE,mBAA0EE,QAA1E,GACCQ,IADD,CACM,UAAAK,GAAG,EAAE;AAAClB,MAAAA,aAAa,CAACkB,GAAG,CAACN,IAAJ,CAASO,OAAV,CAAb;AAAgC,KAD5C;AAEH,GALQ,EAKP,CAAChB,WAAD,CALO,CAAT;AAOA,MAAMiB,KAAK,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAd;AACA,MAAMD,OAAO,gBAAG,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACZ,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKrB,GAAG,CAACuB,GAAJ,CAAQ,UAACb,IAAD,EAAQ;AACb,wBAAO,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAYA,IAAZ,CAAP;AACH,GAFA,CADL,CADJ,CADY,eAQZ,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKT,UAAU,CAACsB,GAAX,CAAe,UAACb,IAAD,EAAMc,GAAN,EAAY;AACxB,wBACI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAYd,IAAI,CAACe,MAAjB,CADJ,eAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAYf,IAAI,CAACgB,MAAjB,CAFJ,eAGI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAYhB,IAAI,CAACiB,GAAjB,CAHJ,eAII,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAYjB,IAAI,CAACO,QAAjB,CAJJ,eAKI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAW,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAS;AAAM,MAAA,IAAI,EAAC,cAAX;AAA0B,MAAA,CAAC,EAAC,mQAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAT,CAAX,CALJ,eAMI,oBAAC,SAAD;AAAW,MAAA,OAAO,EAAE,mBAAI;AAACR,QAAAA,YAAY,CAACC,IAAD,CAAZ;AAAmB,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA8C,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAS;AAAM,MAAA,IAAI,EAAC,cAAX;AAA0B,MAAA,CAAC,EAAC,8GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAT,CAA9C,CANJ,CADJ;AAUH,GAXA,CADL,CARY,eAsBZ,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAEkB,IAAI,CAACC,IAAL,CAAU1B,WAAW,GAACI,QAAtB,CADf;AAEI,IAAA,OAAO,EAAEF,WAFb;AAGI,IAAA,OAAO,EAAEC,cAHb;AAII,IAAA,SAAS,EAAEE,SAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAtBY,CAAhB;AAkCA,sBAAO,uDACP,oBAAC,IAAD;AAAM,IAAA,MAAM,EAAEc,KAAd;AAAqB,IAAA,IAAI,EAAED,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,CAAP;AAGH,CAjED","sourcesContent":["import { SvgIcon, Table, TableBody, TableCell, TableFooter, TableHead, TableRow } from '@material-ui/core'\nimport React,{useEffect, useState} from 'react'\nimport axios from 'axios'\nimport styles from './SurveyList.module.scss'\nimport Pagination from 'webapp/cmm/elements/Pagination/Pagination'\nimport Card from 'webapp/cmm/layouts/Card/Card'\n\nexport default ()=>{\n    const arr = ['설문번호','성별','나이대','목적지','상세보기','삭제하기']\n    const [surveyList,setSurveyList] = useState([]);\n    const [surveyCount,setSurveyCount] = useState(0)\n    const [currentPage,setCurrentPage] = useState(1)\n    const pageSize = 10\n    const blockSize = 5\n\n    const deleteSurvey = (item)=>{\n        if(window.confirm('삭제하시겠습니까?')){\n            axios.delete(`http://localhost:8080/survey/delete`,{\n                data:item\n            })\n            .then(\n                alert('삭제성공'),\n                window.location.reload()\n            )\n        }\n    }\n\n    useEffect(()=>{\n        axios.get(`http://localhost:8080/survey/count`)\n        .then(res=>{setSurveyCount(res.data)})\n        axios.get(`http://localhost:8080/survey/list?page=${currentPage-1}&size=${pageSize}`)\n        .then(res=>{setSurveyList(res.data.content)})\n    },[currentPage])\n\n    const title = <h3>설문 리스트</h3>\n    const content = <Table>\n        <TableHead>\n            <TableRow>\n                {arr.map((item)=>{\n                    return <TableCell>{item}</TableCell>\n                })}\n            </TableRow>\n        </TableHead>\n        <TableBody>\n            {surveyList.map((item,key)=>{\n                return(\n                    <TableRow key={key}>\n                        <TableCell>{item.svyNum}</TableCell>\n                        <TableCell>{item.gender}</TableCell>\n                        <TableCell>{item.age}</TableCell>\n                        <TableCell>{item.location}</TableCell>\n                        <TableCell><SvgIcon><path fill=\"currentColor\" d=\"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" /></SvgIcon></TableCell>\n                        <TableCell onClick={()=>{deleteSurvey(item)}}><SvgIcon><path fill=\"currentColor\" d=\"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z\" /></SvgIcon></TableCell>\n                    </TableRow>\n                )\n            })}\n        </TableBody>\n        <TableFooter>\n            <TableRow>\n                <Pagination\n                    pageCount={Math.ceil(surveyCount/pageSize)}\n                    pageNum={currentPage}\n                    setPage={setCurrentPage}\n                    blockSize={blockSize}\n                />\n            </TableRow>\n        </TableFooter>\n    </Table>\n\n    return <>\n    <Card header={title} body={content}/>\n    </>\n}"]},"metadata":{},"sourceType":"module"}