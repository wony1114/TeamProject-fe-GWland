{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\src\\\\components\\\\ui\\\\InputDiscount\\\\InputDiscount.js\";\n\nimport React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport styles from \"./InputDiscount.module.scss\";\nimport { Button } from \"../../elements\";\nimport useWidth from \"../../../utilities/useCurrentWidth\";\nvar SERVICES = [\"Construction\", \"Contracting\", \"Management\"];\nexport default (function () {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      hidden = _useState2[0],\n      setHidden = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      active = _useState4[0],\n      setActive = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sending = _useState6[0],\n      setSending = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      status = _useState8[0],\n      setStatus = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      email = _useState10[0],\n      setEmail = _useState10[1];\n\n  var revealStyle = {\n    opacity: \"1\",\n    pointerEvents: \"all\"\n  };\n  var templateParams = {\n    email: email,\n    request: \"Discount for service: \" + active\n  };\n\n  var validateEmail = function validateEmail(email) {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  var onSubmit = function onSubmit() {\n    if (!validateEmail(email)) {\n      setStatus(\"Incorrect email address\");\n      return;\n    }\n\n    setSending(true);\n    emailjs.send(\"SERVICE ID\", \"TEMPLATE ID\", templateParams, \"USER ID\").then(function (response) {\n      setSending(false);\n      setStatus(\"Your message has been sent!\");\n    }, function (err) {\n      setSending(false);\n      setStatus(\"Sorry. There is an error: \" + err.text);\n    });\n    setEmail(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.subscribe,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.status,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, sending ? \"Sending... \" : status), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.select,\n    style: {\n      fontWeight: !hidden && \"600\"\n    },\n    onClick: function onClick() {\n      return setHidden(!hidden);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.list,\n    style: !hidden ? revealStyle : null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, SERVICES.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      onClick: function onClick() {\n        return setActive(item);\n      },\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, item);\n  })), active ? active : \"Choose your service\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.input,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    placeholder: \"Enter your email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    click: onSubmit,\n    hoverType: \"solid-white-tb\",\n    before: \"\\uF30B\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, useWidth() > 992 && \"Get discount\"));\n});","map":{"version":3,"sources":["C:/Users/kang/Luna/GWproject/fe/src/components/ui/InputDiscount/InputDiscount.js"],"names":["React","useState","emailjs","styles","Button","useWidth","SERVICES","hidden","setHidden","active","setActive","sending","setSending","status","setStatus","email","setEmail","revealStyle","opacity","pointerEvents","templateParams","request","validateEmail","re","test","onSubmit","send","then","response","err","text","subscribe","select","fontWeight","list","map","item","index","input","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport styles from \"./InputDiscount.module.scss\";\nimport { Button } from \"../../elements\";\nimport useWidth from \"../../../utilities/useCurrentWidth\";\n\nconst SERVICES = [\"Construction\", \"Contracting\", \"Management\"];\n\nexport default () => {\n  const [hidden, setHidden] = useState(true);\n  const [active, setActive] = useState(null);\n\n  const [sending, setSending] = useState(false);\n  const [status, setStatus] = useState(\"\");\n\n  const [email, setEmail] = useState(\"\");\n\n  const revealStyle = {\n    opacity: \"1\",\n    pointerEvents: \"all\",\n  };\n\n  const templateParams = {\n    email: email,\n    request: \"Discount for service: \" + active,\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const onSubmit = () => {\n    if (!validateEmail(email)) {\n      setStatus(\"Incorrect email address\");\n      return;\n    }\n    setSending(true);\n    emailjs\n      .send(\"SERVICE ID\", \"TEMPLATE ID\", templateParams, \"USER ID\")\n      .then(\n        (response) => {\n          setSending(false);\n          setStatus(\"Your message has been sent!\");\n        },\n        (err) => {\n          setSending(false);\n          setStatus(\"Sorry. There is an error: \" + err.text);\n        }\n      );\n    setEmail(\"\");\n  };\n\n  return (\n    <form className={styles.subscribe}>\n      <span className={styles.status}>{sending ? \"Sending... \" : status}</span>\n      <div\n        className={styles.select}\n        style={{ fontWeight: !hidden && \"600\" }}\n        onClick={() => setHidden(!hidden)}\n      >\n        <ul className={styles.list} style={!hidden ? revealStyle : null}>\n          {SERVICES.map((item, index) => (\n            <li onClick={() => setActive(item)} key={index}>\n              {item}\n            </li>\n          ))}\n        </ul>\n        {active ? active : \"Choose your service\"}\n      </div>\n      <div className={styles.input}>\n        <input\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Enter your email\"\n        />\n      </div>\n      <Button click={onSubmit} hoverType=\"solid-white-tb\" before=\"&#xf30b;\">\n        {useWidth() > 992 && \"Get discount\"}\n      </Button>\n    </form>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}