{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\kang\\\\Luna\\\\GWproject\\\\fe\\\\src\\\\components\\\\elements\\\\Subscribe\\\\Subscribe.js\";\n\nimport React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport styles from \"./Subscribe.module.scss\";\nimport { Button } from \"../../elements\";\nexport default (function () {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      sending = _useState2[0],\n      setSending = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var templateParams = {\n    email: email,\n    request: \"Subscription\"\n  };\n\n  var validateEmail = function validateEmail(email) {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  var onSubmit = function onSubmit() {\n    if (!validateEmail(email)) {\n      setStatus(\"Incorrect email address\");\n      return;\n    }\n\n    setSending(true);\n    emailjs.send(\"SERVICE ID\", \"TEMPLATE ID\", templateParams, \"USER ID\").then(function (response) {\n      setSending(false);\n      setStatus(\"Your message has been sent!\");\n    }, function (err) {\n      setSending(false);\n      setStatus(\"Sorry. There is an error: \" + err.text);\n    });\n    setEmail(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.subscribe,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.status,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, sending ? \"Sending... \" : status), /*#__PURE__*/React.createElement(\"input\", {\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    type: \"text\",\n    placeholder: \"Your email address\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    click: onSubmit,\n    hoverType: \"solid-color-tb\",\n    before: \"\\uF105\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }));\n});","map":{"version":3,"sources":["C:/Users/kang/Luna/GWproject/fe/src/components/elements/Subscribe/Subscribe.js"],"names":["React","useState","emailjs","styles","Button","sending","setSending","status","setStatus","email","setEmail","templateParams","request","validateEmail","re","test","onSubmit","send","then","response","err","text","subscribe","e","target","value"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,OAAP,MAAoB,aAApB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,gBAAe,YAAM;AAAA,kBACWH,QAAQ,CAAC,KAAD,CADnB;AAAA;AAAA,MACZI,OADY;AAAA,MACHC,UADG;;AAAA,mBAESL,QAAQ,CAAC,EAAD,CAFjB;AAAA;AAAA,MAEZM,MAFY;AAAA,MAEJC,SAFI;;AAAA,mBAIOP,QAAQ,CAAC,EAAD,CAJf;AAAA;AAAA,MAIZQ,KAJY;AAAA,MAILC,QAJK;;AAMnB,MAAMC,cAAc,GAAG;AACrBF,IAAAA,KAAK,EAAEA,KADc;AAErBG,IAAAA,OAAO,EAAE;AAFY,GAAvB;;AAKA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,KAAD,EAAW;AAC/B,QAAIK,EAAE,GAAG,cAAT;AACA,WAAOA,EAAE,CAACC,IAAH,CAAQN,KAAR,CAAP;AACD,GAHD;;AAKA,MAAMO,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAI,CAACH,aAAa,CAACJ,KAAD,CAAlB,EAA2B;AACzBD,MAAAA,SAAS,CAAC,yBAAD,CAAT;AACA;AACD;;AAEDF,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAJ,IAAAA,OAAO,CACJe,IADH,CACQ,YADR,EACsB,aADtB,EACqCN,cADrC,EACqD,SADrD,EAEGO,IAFH,CAGI,UAACC,QAAD,EAAc;AACZb,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,SAAS,CAAC,6BAAD,CAAT;AACD,KANL,EAOI,UAACY,GAAD,EAAS;AACPd,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,SAAS,CAAC,+BAA+BY,GAAG,CAACC,IAApC,CAAT;AACD,KAVL;AAYAX,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,GApBD;;AAsBA,sBACE;AAAM,IAAA,SAAS,EAAEP,MAAM,CAACmB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAEnB,MAAM,CAACI,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCF,OAAO,GAAG,aAAH,GAAmBE,MAA3D,CADF,eAEE;AACE,IAAA,KAAK,EAAEE,KADT;AAEE,IAAA,QAAQ,EAAE,kBAACc,CAAD;AAAA,aAAOb,QAAQ,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAA,KAFZ;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,WAAW,EAAC,oBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAQE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAET,QAAf;AAAyB,IAAA,SAAS,EAAC,gBAAnC;AAAoD,IAAA,MAAM,EAAC,QAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF;AAYD,CAlDD","sourcesContent":["import React, { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport styles from \"./Subscribe.module.scss\";\nimport { Button } from \"../../elements\";\n\nexport default () => {\n  const [sending, setSending] = useState(false);\n  const [status, setStatus] = useState(\"\");\n\n  const [email, setEmail] = useState(\"\");\n\n  const templateParams = {\n    email: email,\n    request: \"Subscription\",\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const onSubmit = () => {\n    if (!validateEmail(email)) {\n      setStatus(\"Incorrect email address\");\n      return;\n    }\n\n    setSending(true);\n    emailjs\n      .send(\"SERVICE ID\", \"TEMPLATE ID\", templateParams, \"USER ID\")\n      .then(\n        (response) => {\n          setSending(false);\n          setStatus(\"Your message has been sent!\");\n        },\n        (err) => {\n          setSending(false);\n          setStatus(\"Sorry. There is an error: \" + err.text);\n        }\n      );\n    setEmail(\"\");\n  };\n\n  return (\n    <form className={styles.subscribe}>\n      <span className={styles.status}>{sending ? \"Sending... \" : status}</span>\n      <input\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        type=\"text\"\n        placeholder=\"Your email address\"\n      />\n      <Button click={onSubmit} hoverType=\"solid-color-tb\" before=\"&#xf105;\" />\n    </form>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}